import w from"react";import{hydrateRoot as R}from"react-dom/client";import{useState as K,useEffect as Q,useCallback as T,useMemo as U,useRef as H}from"react";import{jsxDEV as q}from"react/jsx-dev-runtime";var W=({initialMessage:B="Hello from Server!"})=>{let[J,F]=K(B),[z,N]=K(0),[G,Z]=K(!1),O=H(0);O.current++,Q(()=>{return Z(!0),console.log("[HooksDemo] useEffect executed - component hydrated!"),()=>{console.log("[HooksDemo] Cleanup on unmount")}},[]),Q(()=>{if(G)document.title=`Count: ${z}`},[z,G]);let _=T(()=>{N((A)=>A+1)},[]),$=T(()=>{N((A)=>A-1)},[]),I=U(()=>{return console.log("[HooksDemo] useMemo recalculating doubledCount"),z*2},[z]),P=U(()=>z%2===0,[z]);return q("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100 max-w-lg mx-auto mt-10",children:[q("h2",{className:"text-3xl font-extrabold text-gray-800 mb-2",children:"React Hooks Demo"},void 0,!1,void 0,this),q("div",{className:`mb-6 p-4 rounded-lg ${G?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[q("p",{className:"font-semibold",children:G?"✅ Hydrated - Hooks are active!":"⏳ Server Rendered - Waiting for hydration..."},void 0,!1,void 0,this),q("p",{className:"text-sm mt-1",children:["Render count: ",O.current]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"mb-6",children:[q("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (from server props):"},void 0,!1,void 0,this),q("input",{type:"text",value:J,onChange:(A)=>F(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Type to test useState..."},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"mb-6",children:[q("p",{className:"text-gray-600 mb-4",children:q("strong",{children:"useState + useCallback:"},void 0,!1,void 0,this)},void 0,!1,void 0,this),q("div",{className:"flex items-center justify-center gap-6",children:[q("button",{onClick:$,className:"w-12 h-12 flex items-center justify-center rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors text-2xl font-bold",children:"-"},void 0,!1,void 0,this),q("span",{className:"text-5xl font-mono font-bold text-indigo-600 min-w-[3ch]",children:z},void 0,!1,void 0,this),q("button",{onClick:_,className:"w-12 h-12 flex items-center justify-center rounded-full bg-green-100 text-green-600 hover:bg-green-200 transition-colors text-2xl font-bold",children:"+"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"bg-gray-50 p-4 rounded-lg",children:[q("p",{className:"text-gray-600",children:q("strong",{children:"useMemo results:"},void 0,!1,void 0,this)},void 0,!1,void 0,this),q("ul",{className:"mt-2 space-y-1 text-sm",children:[q("li",{children:["Doubled count: ",q("span",{className:"font-mono font-bold text-indigo-600",children:I},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("li",{children:["Is even: ",q("span",{className:`font-bold ${P?"text-green-600":"text-red-600"}`,children:P?"Yes":"No"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"mt-6 text-center text-sm text-gray-500",children:[q("p",{children:"\uD83D\uDCA1 useEffect updates document.title with current count"},void 0,!1,void 0,this),q("p",{children:"Check your browser tab!"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)};var X=W||void 0;function Y(){let B=document.getElementById("__BUNSTONE_DATA__"),J=B?JSON.parse(B.textContent||"{}"):{};if(typeof document<"u"&&X){let F=document.getElementById("root");if(F)try{R(F,w.createElement(X,J)),console.log("[Bunstone] Hydration successful for component: HooksDemo")}catch(z){console.error("[Bunstone] Hydration failed for component: HooksDemo",z)}else console.error('[Bunstone] Root element "root" not found for hydration.')}else console.error("[Bunstone] Component HooksDemo not found in bundle.")}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",Y);else Y();
